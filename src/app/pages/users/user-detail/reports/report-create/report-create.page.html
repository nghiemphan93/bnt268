<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Tổng kết</ion-title>
    </ion-toolbar>
</ion-header>

<!--  Main Table Content for Desktop  -->
<ion-content>
    <ion-grid>
        <ion-row>
            <ion-col
                    sizeXl="8"
                    offsetXl="2"
                    sizeLg="10"
                    offsetLg="1"
                    sizeMd="10"
                    offsetMd="1"
            >
                <section>
                    <ion-button
                            [routerLink]="['/users', userId, 'orders']"
                            color="dark"
                    >
                        <ion-icon name="arrow-back-outline"></ion-icon>
                        Quay về các tháng
                    </ion-button>

                    <ion-grid fixed>
                        <ion-row>
                            <ion-col
                                    sizeXl="6"
                                    offsetXl="3"
                                    sizeLg="6"
                                    offsetLg="3"
                                    sizeMd="8"
                                    offsetMd="2"
                            >
                                <ion-label>Tips: <br>
                                    <p>Double click each cell of Comment or Status to Edit</p>
                                    <p>Click Column's Header to sort</p>
                                </ion-label>
                            </ion-col>
                        </ion-row>
                    </ion-grid>

                    <ngx-datatable
                        #table
                        [rows]="tableData"
                        [rowHeight]="'auto'"
                        [headerHeight]="50"
                        [ngClass]="tableStyle"
                        [columnMode]="'force'"
                        [footerHeight]="50"
                        class="ion-text-wrap"
                        style="overflow: hidden"
                        #table
                    >
                        <!--    Product Name   -->
                        <ngx-datatable-column
                                name="Tên sản phẩm"
                                prop="productName"
                        >
                            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                                <ion-badge
                                        *ngIf="row.productName !== undefined"
                                        color="primary"
                                >
                                    {{ row?.productName }}
                                </ion-badge>
                            </ng-template>
                        </ngx-datatable-column>

                        <!--    Quantity   -->
                        <ngx-datatable-column
                                name="Số lượng"
                                prop="quantity"
                        >
                            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                                <ion-badge
                                        *ngIf="row.quantity !== undefined"
                                        color="tertiary"
                                >
                                    {{ row?.quantity }}
                                </ion-badge>
                            </ng-template>
                        </ngx-datatable-column>

                        <!--    Price   -->
                        <ngx-datatable-column
                                name="Công"
                                prop="price"
                        >
                            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                                <ion-badge
                                        *ngIf="row.price !== undefined"
                                        color="success"
                                >
                                    {{ row?.price }} đ
                                </ion-badge>
                            </ng-template>
                        </ngx-datatable-column>

                        <!--    Total   -->
                        <ngx-datatable-column
                                name="Tổng công"
                                prop="totalPrice"
                        >
                            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                                <ion-badge
                                        *ngIf="row?.price !== undefined"
                                        color="warning"
                                >
                                    {{ row?.price }}đ x {{ row?.quantity }} = {{ row?.totalPrice }}đ
                                </ion-badge>

                                <ion-badge
                                        *ngIf="row?.price === undefined"
                                        color="tertiary"
                                >
                                    Tổng {{ row?.totalPrice | currency:'VND'}}
                                </ion-badge>
                            </ng-template>
                        </ngx-datatable-column>

                        <ion-col
                                *ngIf="table.rowCount === 0"
                                size="6"
                                offset="5"
                        >
                            <ion-spinner class="spinner-loading"></ion-spinner>
                        </ion-col>
                    </ngx-datatable>
                </section>
            </ion-col>
        </ion-row>
    </ion-grid>

</ion-content>
